<div class="subscription-container" [class.paused]="state() === 'paused'">
  <div class="subscription-header">
    <span class="subscription-symbol">{{ symbol() }}</span>
    <div class="header-actions">
      <button class="view-toggle-btn" (click)="toggleViewMode()">
        {{ viewMode === 'card' ? 'Table View' : 'Card View' }}
      </button>
      @if (state() === 'active') {
        <button class="unsubscribe-btn" (click)="onUnsubscribe()">Unsubscribe</button>
      } @else {
        <button class="resubscribe-btn" (click)="onResubscribe()">Resubscribe</button>
        <button class="dismiss-btn" (click)="onDismiss()">Dismiss</button>
      }
    </div>
  </div>
  <div class="subscription-body">
    @if (loading()) {
      <div class="loading-area">
        <div class="loading-pulse"></div>
        <div class="loading-pulse"></div>
        <div class="loading-pulse"></div>
      </div>
    } @else {
      @if (viewMode === 'card') {
        <app-trade-update-list [trades]="trades()" />
      } @else {
        <app-trade-update-table [trades]="trades()" />
      }
    }
  </div>
</div>
